<link rel="stylesheet" href="/stylesheets/header.css" />

<div id="left">
  <div id="nav-logo">
    <img height="100" src="../../images/logo2.jpeg" alt="" />
  </div>

  <a href="/dashboard" style="text-decoration: none">
    <div class="nav-item" data-route="dashboard">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="none"
        stroke-width="2"
        viewBox="0 0 24 24"
        stroke-linecap="round"
        stroke-linejoin="round"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path
          d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <polyline
          points="9 22 9 12 15 12 15 22"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></polyline>
      </svg>
      <h3>Dashboard</h3>
    </div>
  </a>
  <a href="/course" style="text-decoration: none">
    <div class="nav-item" data-route="course">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="none"
        stroke-width="2"
        viewBox="0 0 24 24"
        stroke-linecap="round"
        stroke-linejoin="round"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path d="M2 6h4" stroke="#172B4D" fill="none" stroke-width="2px"></path>
        <path
          d="M2 10h4"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M2 14h4"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M2 18h4"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <rect
          width="16"
          height="20"
          x="4"
          y="2"
          rx="2"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></rect>
        <path
          d="M9.5 8h5"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M9.5 12H16"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M9.5 16H14"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
      </svg>
      <h3>Course</h3>
    </div>
  </a>
  <a href="/inquiry" style="text-decoration: none">
    <div class="nav-item" data-route="inquiry">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="none"
        stroke-width="2"
        viewBox="0 0 24 24"
        stroke-linecap="round"
        stroke-linejoin="round"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path
          d="M2 21a8 8 0 0 1 13.292-6"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <circle
          cx="10"
          cy="8"
          r="5"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></circle>
        <path
          d="m16 19 2 2 4-4"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
      </svg>
      <h3>Inquiry</h3>
    </div>
  </a>
  <a href="/register" style="text-decoration: none">
    <div class="nav-item" data-route="register">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="currentColor"
        stroke-=""
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path
          d="M4 9.5a5 5 0 1 1 7.916 4.062 7.973 7.973 0 0 1 5.018 7.166.75.75 0 1 1-1.499.044 6.469 6.469 0 0 0-12.932 0 .75.75 0 0 1-1.499-.044 7.972 7.972 0 0 1 5.059-7.181A4.994 4.994 0 0 1 4 9.5ZM9 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm10.25-5a.75.75 0 0 1 .75.75V4h2.25a.75.75 0 0 1 0 1.5H20v2.25a.75.75 0 0 1-1.5 0V5.5h-2.25a.75.75 0 0 1 0-1.5h2.25V1.75a.75.75 0 0 1 .75-.75Z"
          stroke="#172B4D"
          fill="#172B4D"
          stroke-width="0px"
        ></path>
      </svg>
      <h3>Register</h3>
    </div>
  </a>
  <a href="/student" style="text-decoration: none">
    <div class="nav-item" data-route="student">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="none"
        stroke-width="1.5"
        viewBox="0 0 24 24"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"
          stroke="#172B4D"
          fill="none"
          stroke-width="1.5px"
        ></path>
      </svg>
      <h3>Students</h3>
    </div>
  </a>
  <a href="/admission" style="text-decoration: none">
    <div class="nav-item" data-route="admission">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="currentColor"
        stroke-=""
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path
          d="M4 9.5a5 5 0 1 1 7.916 4.062 7.973 7.973 0 0 1 5.018 7.166.75.75 0 1 1-1.499.044 6.469 6.469 0 0 0-12.932 0 .75.75 0 0 1-1.499-.044 7.972 7.972 0 0 1 5.059-7.181A4.994 4.994 0 0 1 4 9.5ZM9 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm10.25-5a.75.75 0 0 1 .75.75V4h2.25a.75.75 0 0 1 0 1.5H20v2.25a.75.75 0 0 1-1.5 0V5.5h-2.25a.75.75 0 0 1 0-1.5h2.25V1.75a.75.75 0 0 1 .75-.75Z"
          stroke="#172B4D"
          fill="#172B4D"
          stroke-width="0px"
        ></path>
      </svg>
      <h3>Admission Form</h3>
    </div>
  </a>
  <a href="/admission-student" style="text-decoration: none">
    <div class="nav-item" data-route="admission-student">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="none"
        stroke-width="1.5"
        viewBox="0 0 24 24"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"
          stroke="#172B4D"
          fill="none"
          stroke-width="1.5px"
        ></path>
      </svg>
      <h3>Admission Students</h3>
    </div>
  </a>
  <!-- <a href="/addStaff" style="text-decoration: none">
    <div class="nav-item" data-route="addStaff">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="currentColor"
        stroke-=""
        viewBox="0 0 512 512"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <rect
          width="320"
          height="448"
          x="96"
          y="32"
          fill="none"
          stroke-linejoin="round"
          stroke-width="32px"
          rx="48"
          stroke="#172B4D"
        ></rect>
        <path
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="32px"
          d="M208 80h96"
          stroke="#172B4D"
        ></path>
        <path
          d="M333.48 284.51A39.65 39.65 0 0 0 304 272c-11.6 0-22.09 4.41-29.54 12.43s-11.2 19.12-10.34 31C265.83 338.91 283.72 358 304 358s38.14-19.09 39.87-42.55c.88-11.78-2.82-22.77-10.39-30.94zM371.69 448H236.31a12.05 12.05 0 0 1-9.31-4.17 13 13 0 0 1-2.76-10.92c3.25-17.56 13.38-32.31 29.3-42.66C267.68 381.06 285.6 376 304 376s36.32 5.06 50.46 14.25c15.92 10.35 26.05 25.1 29.3 42.66a13 13 0 0 1-2.76 10.92 12.05 12.05 0 0 1-9.31 4.17z"
          stroke="#172B4D"
          fill="#172B4D"
          stroke-width="0px"
        ></path>
      </svg>
      <h3>Staff</h3>
    </div>
  </a> -->
  <a href="/fees" style="text-decoration: none">
    <div class="nav-item" data-route="fees">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="none"
        stroke-width="2"
        viewBox="0 0 24 24"
        stroke-linecap="round"
        stroke-linejoin="round"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path
          d="M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
      </svg>
      <h3 class="flex">
        Fees
        <div class="noti-dot">0</div>
      </h3>
    </div>
  </a>
  <a href="/feesManagement" style="text-decoration: none">
    <div class="nav-item" data-route="feesManagement">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="none"
        stroke-width="2"
        viewBox="0 0 24 24"
        stroke-linecap="round"
        stroke-linejoin="round"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path d="M8 2v4" stroke="#172B4D" fill="none" stroke-width="2px"></path>
        <path
          d="M16 2v4"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <rect
          width="18"
          height="18"
          x="3"
          y="4"
          rx="2"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></rect>
        <path
          d="M3 10h18"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M8 14h.01"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M12 14h.01"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M16 14h.01"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M8 18h.01"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M12 18h.01"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M16 18h.01"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
      </svg>
      <h3>Fees Management</h3>
    </div>
  </a>
  <a href="/logout" style="text-decoration: none">
    <div class="nav-item" data-route="logout">
      <svg
        xmlns:xlink="http://www.w3.org/1999/xlink"
        stroke="currentColor"
        fill="none"
        stroke-width="2"
        viewBox="0 0 24 24"
        stroke-linecap="round"
        stroke-linejoin="round"
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="26"
      >
        <path
          d="M10 8v-2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-2"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M15 12h-12l3 -3"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
        <path
          d="M6 15l-3 -3"
          stroke="#172B4D"
          fill="none"
          stroke-width="2px"
        ></path>
      </svg>
      <h3>Logout</h3>
    </div>
  </a>
</div>

<style>
  .nav-item.active {
    background-color: #e8f4fd;
    border-radius: 8px;
    color: #172b4d;
  }
</style>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js"
  integrity="sha512-PJa3oQSLWRB7wHZ7GQ/g+qyv6r4mbuhmiDb8BjSFZ8NZ2a42oTtAq5n0ucWAwcQDlikAtkub+tPVCw4np27WCg=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>

<script>
  var noti = document.querySelector(".noti-dot");
  const fetchDate = async () => {
    const date = await axios.get("/getdate");
    var count = 0;
    date.data.students.forEach((elem) => {
      new Date(elem.dueDate) < new Date() && count++;
    });
    noti.innerHTML = count;
  };
  fetchDate();

  // Route matching function
  function setActiveNavItem() {
    const currentPath = window.location.pathname;
    const navItems = document.querySelectorAll(".nav-item");

    // Remove active class from all items
    navItems.forEach((item) => item.classList.remove("active"));

    // Find and activate matching route
    navItems.forEach((item) => {
      const route = item.getAttribute("data-route");

      if (
        route === "course" &&
        (currentPath === "/course" ||
          currentPath === "/shortTermCourse" ||
          currentPath === "/addUniversity" ||
          currentPath === "/addFeeStructure")
      ) {
        // Special case for course and shortCourse
        item.classList.add("active");
      } else if (currentPath === `/${route}`) {
        // Regular route matching
        item.classList.add("active");
      }
    });
  }

  // Set active nav item on page load
  setActiveNavItem();
</script>